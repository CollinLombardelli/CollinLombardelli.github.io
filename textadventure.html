<!DOCTYPE html>
<html>
    <head>
        <title>Collin Lombardelli</title>
        <link rel="stylesheet" type="text/css" href="css/navbar.css" />
    </head>
    <style>
        #container{
            position: absolute;
            left: 10px;
            right: 10px;
            top: 140px;
            bottom: 10px;
            background-color: red;
        }
        #left_pane{
            background-color: white;
            height: 100%;
            width: 56%;
            float: left;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #right_pane{
            background-color: blue;
            height: 100%;
            width: 44%;
            float: left;
        }

        #story_text{
            background-color: blue;
            height: 80%
        }

        #button_choices{
            background-color: pink;
            height: 20%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #story_img{
            max-height: 97%;
            max-width: 97%;
            width: auto;
            height: auto;
        }
        .buttons{
            text-decoration: none;
            color: white;
            background-color: black;
            padding: 10px;
            border-radius: 8px;
            font-size: 16px;
            margin: 10px;
        }

    </style>
    <body>
        
        <ul class="navbar">
            <li><a href="home.html">Home</a></il>
            <li class="active"><a href="resume.html">Resume</a></il>
            <li class="active"><a href="contactme.html">Contact Me</a></il>
            <li><a href="aboutme.html">About Me</a></il>
            <li class="dropdown">
                <a href="#">Projects</a>
                <ul class="dropdown-content">
                    <li><a href="textadventure.html">Text Adventure</a></li>
                    <li><a href="pythonadventure.html">Python Text Adventure</a></li>
                    <li><a href="tkintercalculator.html">Tkinter Calculator</a></li>
                    <li><a href="#">Project 4</a></li>
                    <li><a href="#">Project 5</a></li>
                </ul>
            </il>
        </ul>
        
    <div id="container">
        <div id="left_pane">
            <img id="story_img" src="images/cat.jpg">
        </div>
        <div id="right_pane">
        <div id="story_text">
            <p id="p1">Welcome to the Ice cream Shop</p>
            <p id="p2">It is the year 2020</p>
        </div>
        <div id="button_choices">

            <a id="b1" class="buttons" href="#" onclick="bclick(1)">Yes</a>
            <a id="b2" class="buttons" href="#" onclick="bclick(2)">No</a>
        </div>
    </div>


    <script>
        var b1 = document.getElementById("b1");
        var b2 = document.getElementById("b2");
        var img = document.getElementById("story_img");
        var p1 = document.getElementById("p1");
        var p2 = document.getElementById("p2");
        var state = "intro";
        intro();

        function intro(){
            img.src = "images/VR.jpg";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            p1.innerHTML = "Welcome to my Text Adventure";
            p2.innerHTML = "Hello and Welcome to Pixel-Land VR  the world of your imagination but you are trapped . Do you choose to cooperate?";
        }

        function parzival(){
             img.src="images/scary.jpg"
             p1.innerHTML = "You are given a quest to escape this dangerous world.";
             p2.innerHTML = "Do you accept?";
             b1.innerHTML = "Yes";
             b2.innerHTML = "No";

        }

        function death(){
             img.src="images/died.jpg";
             p1.innerHTML = "You died";
             p2.innerHTML = "";
             b1.innerHTML = "Yes";
             b2.innerHTML = "No";
        }

        function firstKey(){
             img.src="images/monster.jpg";
             p1.innerHTML = "You have chosen to advance to the first key and you must collect 2 to escape.";
             p2.innerHTML = "A monster appears and there is a sword next to you do you pick it up and slay the beast?";
             b1.innerHTML = "Yes";
             b2.innerHTML = "No";
        }
        
        function killedMonster(){
             img.src="images/key.jpg";
             p1.innerHTML = "You slay the beast and as he falls to the ground the first key falls to your feet.";
             p2.innerHTML = "Do you continue?";
             b1.innerHTML = "Yes";
             b2.innerHTML = "No";
        }

        function lavaHydra(){
             img.src="images/hydra.jpg";
             p1.innerHTML = "You travel throughout the land in search of the third key. You are currently in a desert . It starts shaking and the sand sinks into the ground and you are suddenly surrounded by lava and faced with a three-headed lava hydra.";
             p2.innerHTML = "Do you chose to fight?";
             b1.innerHTML = "Yes";
             b2.innerHTML = "No";
        }

        function midFight(){
             img.src="images/mid.jpg";
             p1.innerHTML = "You cut off all its heads and turn around boasting. You here a loud skreech and when you turn  you are faced with a 6 headed beast. You relize that when you cut off a head it grows two more.";
             p2.innerHTML = "Do you go for the hydra's heart?";
             b1.innerHTML = "Yes";
             b2.innerHTML = "No";
        }

        function end(){
             img.src="images/vault.jpg";
             p1.innerHTML = "You defeat the Hydra and it slowly dissolves into the third key. You use the three keys to unlock the door ahead and you VR Headset unlocks you are free";
             p2.innerHTML = "";
             b1.innerHTML = "Yes";
             b2.innerHTML = "No";
        }


        //////State Machine
        function bclick(button){
            if (state == "intro"){
                if(button == 1){
                    parzival();
                    state="parzival"
                }
            else if(state == "intro"){
                if (button == 2)
                    death();
                    state = "death"
                }
            }
            else if(state == "parzival"){   
                if (button == 1){
                    firstKey();
                    state = "firstKey"
                }
            }
            else if(state == "firstKey"){
                if (button == 1){
                killedMonster();
                state = "killedMonster"
                }
            }
            else if(state == "killedMonster"){
                if (button == 1){
                lavaHydra();
                state = "lavaHydra"
                }
            }
            else if(state == "lavaHydra"){
                if (button == 1){
                midFight();
                state = "midFight"
                }
            }
            else if(state == "midFight"){
                if (button == 1){
                end();
                state = "end"
                }
            }
            else if(state == "parzival"){   
                if (button == 2){
                death();
                state = "death"
                }
            }
            else if(state == "firstKey"){
                if (button == 2){
                death();
                state = "death"
                }
            }
            else if(state == "killedMonster"){
                if (button == 2){
                death();
                state = "death"
                }
            }
            else if(state == "lavaHydra"){
                if (button == 2){
                death();
                state = "death"
                }
            }
            else if(state == "midFight"){
                if (button == 2){
                death();
                state = "death"
                }
            }
            if (button == 2){
                death();
                state = "death"
                }
        }

    </script>
    
    </body>
</html>